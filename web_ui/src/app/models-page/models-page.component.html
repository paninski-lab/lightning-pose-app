<style>
  :host {
    display: flex;
    flex-grow: 1;
    justify-content: center;
    width: 100%;
  }
</style>
<div class="flex mt-4 w-full">
  <div class="min-w-sm shrink-0">
    <div class="flex gap-2 items-center mb-4">
      <button
        class="btn btn-primary tooltip tooltip-bottom"
        data-tip="Create and train a model"
        (click)="isCreateModelDialogOpen.set(true)"
      >
        New model
      </button>
      <div class="dropdown dropdown-end">
        <button class="btn btn-accent" [class.btn-disabled]="!selectedModel()" tabindex="0">
          Actions
        </button>
        <ul
          class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52"
          tabindex="0"
        >
          <li>
            <button (click)="openInferenceDialog()" [disabled]="!selectedModel()">
              Run inference
            </button>
          </li>
        </ul>
      </div>
    </div>

    <div class="overflow-auto max-h-5/6">
      <app-models-list [(selectedModel)]="selectedModel"></app-models-list>
    </div>
  </div>
  <div class="min-w-0 min-h-0 grow">
    <app-model-detail [selectedModel]="selectedModel()"></app-model-detail>
  </div>
</div>
@if (isCreateModelDialogOpen()) {
  <app-create-model-dialog
    (done)="handleCreateModelDialogDone()"
  ></app-create-model-dialog>
}
@if (isInferenceDialogOpen()) {
  <app-model-inference-dialog
    [modelRelativePath]="selectedModel()?.model_relative_path ?? ''"
    (done)="handleInferenceDialogDone()"
  ></app-model-inference-dialog>
}
